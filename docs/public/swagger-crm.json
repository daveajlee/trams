{"openapi":"3.0.1","info":{"title":"TraMS CRM API","description":"TraMS CRM is a part of the TraMS Platform which is responsible for managing the customer relationship with the transport company.","license":{"name":"Apache 2.0","url":"https://www.davelee.de"},"version":"v0.0.1"},"externalDocs":{"description":"TraMS Documentation","url":"https://www.davelee.de/trams/"},"servers":[{"url":"http://localhost:8082","description":"Generated server url"}],"tags":[{"name":"/api/feedbacks"},{"name":"/api/customer"},{"name":"/api/user"},{"name":"/api/tickets"},{"name":"/api/message"},{"name":"/api/customers"},{"name":"/api/order"},{"name":"/api/feedback"},{"name":"/api/messages"},{"name":"/api/ticket"}],"paths":{"/api/user/logout":{"post":{"tags":["/api/user"],"summary":"Logout","description":"Logout from the system","operationId":"logout","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutRequest"}}},"required":true},"responses":{"200":{"description":"Successfully processed logout request"}}}},"/api/user/login":{"post":{"tags":["/api/user"],"summary":"Login","description":"Login to the system","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successfully processed login request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}}}}},"/api/user/":{"post":{"tags":["/api/user"],"summary":"Add a user","description":"Add a user to the system.","operationId":"addUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserRequest"}}},"required":true},"responses":{"201":{"description":"Successfully created user"}}},"delete":{"tags":["/api/user"],"summary":"Delete a user","description":"Delete a user from the system.","operationId":"deleteUser","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}},{"name":"username","in":"query","required":true,"schema":{"type":"string"}},{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Successful but no user found"},"200":{"description":"Successfully delete user"}}}},"/api/ticket/":{"post":{"tags":["/api/ticket"],"summary":"Add a ticket","description":"Add a ticket to the system.","operationId":"addTicket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketRequest"}}},"required":true},"responses":{"201":{"description":"Successfully created ticket"}}}},"/api/order/":{"post":{"tags":["/api/order"],"summary":"Order a ticket","description":"Method to process an order for a ticket","operationId":"orderTicket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseTicketRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PurchaseTicketResponse"}}}},"400":{"description":"Bad request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PurchaseTicketResponse"}}}},"500":{"description":"Payment could not be processed","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PurchaseTicketResponse"}}}}}}},"/api/message/":{"post":{"tags":["/api/message"],"summary":"Add a message","description":"Add a message to the system.","operationId":"addMessage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageRequest"}}},"required":true},"responses":{"201":{"description":"Successfully created message"}}}},"/api/feedback/":{"post":{"tags":["/api/feedback"],"summary":"Add a feedback","description":"Add a feedback to the system.","operationId":"addFeedback","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackRequest"}}},"required":true},"responses":{"201":{"description":"Successfully created feedback"}}}},"/api/customer/":{"get":{"tags":["/api/customer"],"summary":"Find a customer","description":"Find a customer in the system.","operationId":"getCustomer","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}},{"name":"emailAddress","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found customer","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"204":{"description":"Successful but no customer found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}}}},"post":{"tags":["/api/customer"],"summary":"Add a customer","description":"Add a customer to the system.","operationId":"addCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerRequest"}}},"required":true},"responses":{"201":{"description":"Successfully created customer"}}},"delete":{"tags":["/api/customer"],"summary":"Delete a customer","description":"Delete a customer from the system.","operationId":"deleteCustomer","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}},{"name":"emailAddress","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully deleted customer"},"204":{"description":"Successful but no customer found"}}}},"/api/user/reset":{"patch":{"tags":["/api/user"],"summary":"resetUser","description":"Reset password for a user","operationId":"resetUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetUserRequest"}}},"required":true},"responses":{"200":{"description":"Successfully processed reset user request"}}}},"/api/user/password":{"patch":{"tags":["/api/user"],"summary":"changePassword","description":"Change password for a user","operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successfully processed change password request"}}}},"/api/user/deactivate":{"patch":{"tags":["/api/user"],"summary":"Deactivate a user","description":"Deactivate a user from the system.","operationId":"deactivateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeactivateUserRequest"}}},"required":true},"responses":{"200":{"description":"Successfully deactivated user"},"204":{"description":"Successful but no user found"}}}},"/api/feedback/answer":{"patch":{"tags":["/api/feedback"],"summary":"Add an answer","description":"Add an answer to a feedback in the system.","operationId":"addAnswer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerRequest"}}},"required":true},"responses":{"200":{"description":"Successfully added answer"}}}},"/api/tickets/":{"get":{"tags":["/api/tickets"],"summary":"Find all tickets for a company","description":"Find all tickets for a company in the system.","operationId":"getFeedbacksByCompany","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found ticket(s)","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketsResponse"}}}},"204":{"description":"Successful but no tickets found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketsResponse"}}}}}}},"/api/messages/":{"get":{"tags":["/api/messages"],"summary":"Get messages","description":"Return all messages matching company and if supplied folder, sender and date","operationId":"getMessages","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}},{"name":"folder","in":"query","required":false,"schema":{"type":"string"}},{"name":"sender","in":"query","required":false,"schema":{"type":"string"}},{"name":"date","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"204":{"description":"Successful but no messages found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessagesResponse"}}}},"200":{"description":"Successfully returned messages","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessagesResponse"}}}}}},"delete":{"tags":["/api/messages"],"summary":"Delete messages","description":"Delete all messages","operationId":"deleteMessagesByCompany","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}}},"responses":{"204":{"description":"Successful but no messages found"},"200":{"description":"Successfully deleted messages"}}}},"/api/feedbacks/customer":{"get":{"tags":["/api/feedbacks"],"summary":"Find all feedbacks for a company and customer","description":"Find all feedbacks for a company and customer to the system.","operationId":"getFeedbacksByCompanyAndEmail","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}},{"name":"emailAddress","in":"query","required":true,"schema":{"type":"string"}},{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found feedback(s)","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FeedbacksResponse"}}}},"204":{"description":"Successful but no feedbacks found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FeedbacksResponse"}}}}}}},"/api/feedbacks/":{"get":{"tags":["/api/feedbacks"],"summary":"Find all feedbacks for a company","description":"Find all feedbacks for a company  to the system.","operationId":"getFeedbacksByCompany_1","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}},{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found feedback(s)","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FeedbacksResponse"}}}},"204":{"description":"Successful but no feedbacks found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FeedbacksResponse"}}}}}}},"/api/customers/":{"get":{"tags":["/api/customers"],"summary":"Find all customers for a company","description":"Find all customers for a company to the system.","operationId":"getCustomers","parameters":[{"name":"company","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found customer(s)","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomersResponse"}}}},"204":{"description":"Successful but no customers found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomersResponse"}}}}}}}},"components":{"schemas":{"LogoutRequest":{"type":"object","properties":{"token":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"company":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"}}},"LoginResponse":{"type":"object","properties":{"errorMessage":{"type":"string"},"token":{"type":"string"}}},"RegisterUserRequest":{"type":"object","properties":{"firstName":{"type":"string"},"surname":{"type":"string"},"company":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"}}},"TicketRequest":{"type":"object","properties":{"shortId":{"type":"string"},"type":{"type":"string"},"description":{"type":"string"},"sortOrder":{"type":"integer","format":"int32"},"priceList":{"type":"object","additionalProperties":{"type":"number","format":"double"}},"company":{"type":"string"},"token":{"type":"string"}}},"PurchaseTicketRequest":{"type":"object","properties":{"company":{"type":"string"},"ticketType":{"type":"string"},"ticketTargetGroup":{"type":"string"},"quantity":{"type":"integer","format":"int32"},"price":{"type":"number","format":"double"},"creditCardType":{"type":"string"},"creditCardNumber":{"type":"string"},"creditCardExpiryDate":{"type":"string"},"creditCardSecurityCode":{"type":"string"}}},"PurchaseTicketResponse":{"type":"object","properties":{"success":{"type":"boolean"},"qrCode":{"type":"string"},"errorMessage":{"type":"string"}}},"MessageRequest":{"type":"object","properties":{"company":{"type":"string"},"subject":{"type":"string"},"text":{"type":"string"},"sender":{"type":"string"},"folder":{"type":"string"},"dateTime":{"type":"string"}}},"FeedbackRequest":{"type":"object","properties":{"emailAddress":{"type":"string"},"company":{"type":"string"},"message":{"type":"string"},"extraInfos":{"type":"object","additionalProperties":{"type":"string"}}}},"CustomerRequest":{"type":"object","properties":{"title":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"emailAddress":{"type":"string"},"telephoneNumber":{"type":"string"},"address":{"type":"string"},"company":{"type":"string"}}},"ResetUserRequest":{"type":"object","properties":{"company":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"token":{"type":"string"}}},"ChangePasswordRequest":{"type":"object","properties":{"company":{"type":"string"},"username":{"type":"string"},"token":{"type":"string"},"currentPassword":{"type":"string"},"newPassword":{"type":"string"}}},"DeactivateUserRequest":{"type":"object","properties":{"company":{"type":"string"},"username":{"type":"string"},"token":{"type":"string"}}},"AnswerRequest":{"type":"object","properties":{"objectId":{"type":"string"},"answer":{"type":"string"},"token":{"type":"string"}}},"TicketResponse":{"type":"object","properties":{"shortId":{"type":"string"},"type":{"type":"string"},"description":{"type":"string"},"sortOrder":{"type":"integer","format":"int32"},"priceList":{"type":"object","additionalProperties":{"type":"number","format":"double"}},"company":{"type":"string"}}},"TicketsResponse":{"type":"object","properties":{"count":{"type":"integer","format":"int64"},"ticketResponses":{"type":"array","items":{"$ref":"#/components/schemas/TicketResponse"}}}},"MessageResponse":{"type":"object","properties":{"company":{"type":"string"},"subject":{"type":"string"},"text":{"type":"string"},"sender":{"type":"string"},"folder":{"type":"string"},"dateTime":{"type":"string"}}},"MessagesResponse":{"type":"object","properties":{"count":{"type":"integer","format":"int64"},"messageResponses":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"}}}},"CustomerResponse":{"type":"object","properties":{"title":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"emailAddress":{"type":"string"},"telephoneNumber":{"type":"string"},"address":{"type":"string"},"company":{"type":"string"}}},"FeedbackResponse":{"type":"object","properties":{"id":{"type":"string"},"customerResponse":{"$ref":"#/components/schemas/CustomerResponse"},"message":{"type":"string"},"extraInfos":{"type":"object","additionalProperties":{"type":"string"}}}},"FeedbacksResponse":{"type":"object","properties":{"count":{"type":"integer","format":"int64"},"feedbackResponses":{"type":"array","items":{"$ref":"#/components/schemas/FeedbackResponse"}}}},"CustomersResponse":{"type":"object","properties":{"count":{"type":"integer","format":"int64"},"customerResponses":{"type":"array","items":{"$ref":"#/components/schemas/CustomerResponse"}}}}}}}